{"ast":null,"code":"var _jsxFileName = \"/Users/hamzahmahmood/Downloads/ETHDenver/huma-workshop/huma-demo-dapp/src/components/Web3ProviderListener.tsx\",\n  _s = $RefreshSig$();\nimport { Box } from '@mui/material';\nimport { useWeb3React } from '@web3-react/core';\nimport { useCallback, useEffect, useRef } from 'react';\nimport { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nexport function Web3ProviderListener(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const {\n    account,\n    chainId,\n    provider\n  } = useWeb3React();\n  const accountRef = useRef(account);\n  const chainIdRef = useRef(chainId);\n  const refreshPage = useCallback(() => {\n    window.location.reload();\n  }, []);\n  useEffect(() => {\n    if (!provider) return () => undefined;\n    const chainIdListener = newChain => {\n      if (chainIdRef.current && chainIdRef.current !== newChain.chainId) {\n        refreshPage();\n      } else {\n        chainIdRef.current = newChain.chainId;\n      }\n    };\n    provider.on('network', chainIdListener);\n    return () => {\n      provider.removeListener('network', chainIdListener);\n    };\n  }, [provider, refreshPage]);\n  useEffect(() => {\n    if (accountRef.current && accountRef.current !== account) {\n      refreshPage();\n    } else {\n      accountRef.current = account;\n    }\n  }, [account, refreshPage]);\n  return _jsx(Box, {\n    children: children\n  });\n}\n_s(Web3ProviderListener, \"ZXFLfdLjbHulnjx/IlGGanlZppc=\", false, function () {\n  return [useWeb3React];\n});\n_c = Web3ProviderListener;\nvar _c;\n$RefreshReg$(_c, \"Web3ProviderListener\");","map":{"version":3,"names":["Box","useWeb3React","useCallback","useEffect","useRef","Web3ProviderListener","children","account","chainId","provider","accountRef","chainIdRef","refreshPage","window","location","reload","undefined","chainIdListener","newChain","current","on","removeListener"],"sources":["/Users/hamzahmahmood/Downloads/ETHDenver/huma-workshop/huma-demo-dapp/src/components/Web3ProviderListener.tsx"],"sourcesContent":["import { Box } from '@mui/material'\nimport { useWeb3React } from '@web3-react/core'\nimport { useCallback, useEffect, useRef } from 'react'\n\nimport { WCProps } from '../utilTypes'\n\nexport function Web3ProviderListener({ children }: WCProps) {\n  const { account, chainId, provider } = useWeb3React()\n  const accountRef = useRef(account)\n  const chainIdRef = useRef(chainId)\n\n  const refreshPage = useCallback(() => {\n    window.location.reload()\n  }, [])\n\n  useEffect(() => {\n    if (!provider) return () => undefined\n    const chainIdListener = (newChain: { chainId: number }) => {\n      if (chainIdRef.current && chainIdRef.current !== newChain.chainId) {\n        refreshPage()\n      } else {\n        chainIdRef.current = newChain.chainId\n      }\n    }\n    provider.on('network', chainIdListener)\n    return () => {\n      provider.removeListener('network', chainIdListener)\n    }\n  }, [provider, refreshPage])\n\n  useEffect(() => {\n    if (accountRef.current && accountRef.current !== account) {\n      refreshPage()\n    } else {\n      accountRef.current = account\n    }\n  }, [account, refreshPage])\n\n  return <Box>{children}</Box>\n}\n"],"mappings":";;AAAA,SAASA,GAAG,QAAQ,eAAe;AACnC,SAASC,YAAY,QAAQ,kBAAkB;AAC/C,SAASC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAA;AAItD,OAAO,SAASC,oBAAoB,OAAwB;EAAA;EAAA,IAAvB;IAAEC;EAAkB,CAAC;EACxD,MAAM;IAAEC,OAAO;IAAEC,OAAO;IAAEC;EAAS,CAAC,GAAGR,YAAY,EAAE;EACrD,MAAMS,UAAU,GAAGN,MAAM,CAACG,OAAO,CAAC;EAClC,MAAMI,UAAU,GAAGP,MAAM,CAACI,OAAO,CAAC;EAElC,MAAMI,WAAW,GAAGV,WAAW,CAAC,MAAM;IACpCW,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;EAC1B,CAAC,EAAE,EAAE,CAAC;EAENZ,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,QAAQ,EAAE,OAAO,MAAMO,SAAS;IACrC,MAAMC,eAAe,GAAIC,QAA6B,IAAK;MACzD,IAAIP,UAAU,CAACQ,OAAO,IAAIR,UAAU,CAACQ,OAAO,KAAKD,QAAQ,CAACV,OAAO,EAAE;QACjEI,WAAW,EAAE;MACf,CAAC,MAAM;QACLD,UAAU,CAACQ,OAAO,GAAGD,QAAQ,CAACV,OAAO;MACvC;IACF,CAAC;IACDC,QAAQ,CAACW,EAAE,CAAC,SAAS,EAAEH,eAAe,CAAC;IACvC,OAAO,MAAM;MACXR,QAAQ,CAACY,cAAc,CAAC,SAAS,EAAEJ,eAAe,CAAC;IACrD,CAAC;EACH,CAAC,EAAE,CAACR,QAAQ,EAAEG,WAAW,CAAC,CAAC;EAE3BT,SAAS,CAAC,MAAM;IACd,IAAIO,UAAU,CAACS,OAAO,IAAIT,UAAU,CAACS,OAAO,KAAKZ,OAAO,EAAE;MACxDK,WAAW,EAAE;IACf,CAAC,MAAM;MACLF,UAAU,CAACS,OAAO,GAAGZ,OAAO;IAC9B;EACF,CAAC,EAAE,CAACA,OAAO,EAAEK,WAAW,CAAC,CAAC;EAE1B,OAAO,KAAC,GAAG;IAAA,UAAEN;EAAQ,EAAO;AAC9B;AAAC,GAjCeD,oBAAoB;EAAA,QACKJ,YAAY;AAAA;AAAA,KADrCI,oBAAoB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}