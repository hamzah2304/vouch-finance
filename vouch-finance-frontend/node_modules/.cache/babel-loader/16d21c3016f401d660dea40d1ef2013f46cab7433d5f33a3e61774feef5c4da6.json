{"ast":null,"code":"var _jsxFileName = \"/Users/hamzahmahmood/Downloads/ETHDenver/vouch-finance/vouch-finance-frontend/src/features/vouch/components/VouchForm.tsx\",\n  _s = $RefreshSig$();\nimport { Box, css, useTheme } from '@mui/material';\nimport { useWeb3React } from '@web3-react/core';\nimport { useCallback, useState } from 'react';\nimport { useCLStats } from '../../../hooks/useCLPoolContract';\nimport { useMQ } from '../../../hooks/useMQ';\nimport { usePoolInfo, usePoolName } from '../../../hooks/usePool';\nimport { useRefresh } from '../../../hooks/useRefresh';\nimport { POOL_TYPE } from '../../../utils/pool';\nimport { timestampToLL } from '../../../utils/time';\nimport { jsx as _jsx } from \"@emotion/react/jsx-runtime\";\nexport function VouchForm() {\n  _s();\n  const theme = useTheme();\n  const {\n    isLgSize,\n    isSmSize,\n    isXsSize\n  } = useMQ();\n  const buttonWidth = isLgSize ? 180 : 140;\n  const poolName = usePoolName();\n  const poolInfo = usePoolInfo(poolName, POOL_TYPE.CreditLine);\n  const {\n    account,\n    isActive\n  } = useWeb3React();\n  const [accountStats, refreshCLStats] = useCLStats(poolName, account);\n  const [actionType, setActionType] = useState();\n  const [modalIsOpen, setModalIsOpen] = useState(false);\n  const [subscribe, loading] = useRefresh();\n  const {\n    creditRecord,\n    creditRecordStatic,\n    isApproved,\n    payoffAmount,\n    principalAmount,\n    creditAvailableAmount,\n    totalDueAmount\n  } = accountStats;\n  const dueDate = timestampToLL(creditRecord === null || creditRecord === void 0 ? void 0 : creditRecord.dueDate.toNumber()).split(',')[0];\n  const getPadding = () => {\n    if (isSmSize) {\n      return 32;\n    }\n    return 48;\n  };\n  const getButtonWidth = () => {\n    if (isSmSize) {\n      return '100%';\n    }\n    if (isApproved) {\n      return `${buttonWidth}px`;\n    }\n    return '180px';\n  };\n  const styles = {\n    wrapper: css`\n      max-width: 1307px;\n      margin: 0 auto;\n      margin-bottom: 40px;\n    `,\n    title: css`\n      font-family: 'Uni-Neue-Black';\n      color: ${theme.palette.text.primary};\n      font-size: 24px;\n      margin-bottom: 16px;\n    `,\n    description: css`\n      font-family: 'Uni-Neue-Regular';\n      color: ${theme.palette.text.primary};\n      font-size: 1rem;\n    `,\n    infoWrapper: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      background: #ffffff;\n      box-shadow: 0px 4px 40px 8px rgba(0, 0, 0, 0.04);\n      border-radius: 24px;\n      padding: ${getPadding()}px;\n      padding-bottom: 72px;\n    `,\n    infoLeft: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      flex-direction: ${isXsSize ? 'column' : 'row'};\n      justify-content: ${isSmSize ? 'flex-start' : 'space-between'};\n      & > div {\n        margin-bottom: ${isXsSize ? 20 : 0}px;\n        margin-right: ${isSmSize ? 40 : 0}px;\n      }\n      & > div:last-of-type {\n        margin-right: 0px;\n        margin-bottom: 0px;\n      }\n    `,\n    infoTitle: css`\n      ${theme.cssMixins.rowVCentered}\n      font-family: 'Uni-Neue-Bold';\n      font-size: ${isLgSize ? 20 : 18}px;\n      color: #423b46;\n      margin-bottom: 8px;\n    `,\n    infoContent: num => css`\n      font-family: 'Uni-Neue-Regular';\n      font-size: ${isLgSize ? 32 : 26}px;\n      color: ${num > 0 ? '#534E59' : '#d3ccdd'};\n    `,\n    dueDateOn: css`\n      width: 16px;\n      height: 16px;\n      background: #45cb71;\n      border-radius: 50%;\n      margin-left: 8px;\n    `,\n    infoRight: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      align-items: end;\n      width: ${isSmSize ? '100%' : 'unset'};\n    `,\n    button: css`\n      height: 42px;\n      width: ${getButtonWidth()};\n    `\n  };\n  const handleBorrow = () => {\n    setModalIsOpen(true);\n    setActionType('borrow');\n  };\n  const handlePay = () => {\n    setModalIsOpen(true);\n    setActionType('payment');\n  };\n  const handleClose = () => {\n    setModalIsOpen(false);\n    setActionType(undefined);\n  };\n  const handleApproveSuccess = useCallback(() => {\n    refreshCLStats();\n  }, [refreshCLStats]);\n  const handleSuccess = useCallback(blockNumber => {\n    subscribe(blockNumber, refreshCLStats);\n  }, [refreshCLStats, subscribe]);\n  return _jsx(Box, {\n    css: styles.wrapper,\n    children: _jsx(Box, {\n      css: styles.title,\n      children: \"Vouch Form\"\n    })\n  });\n}\n_s(VouchForm, \"e2W853fAnLeTAJtCuOYCiDi9XA0=\", false, function () {\n  return [useTheme, useMQ, usePoolName, usePoolInfo, useWeb3React, useCLStats, useRefresh];\n});\n_c = VouchForm;\nvar _c;\n$RefreshReg$(_c, \"VouchForm\");","map":{"version":3,"names":["Box","css","useTheme","useWeb3React","useCallback","useState","useCLStats","useMQ","usePoolInfo","usePoolName","useRefresh","POOL_TYPE","timestampToLL","VouchForm","theme","isLgSize","isSmSize","isXsSize","buttonWidth","poolName","poolInfo","CreditLine","account","isActive","accountStats","refreshCLStats","actionType","setActionType","modalIsOpen","setModalIsOpen","subscribe","loading","creditRecord","creditRecordStatic","isApproved","payoffAmount","principalAmount","creditAvailableAmount","totalDueAmount","dueDate","toNumber","split","getPadding","getButtonWidth","styles","wrapper","title","palette","text","primary","description","infoWrapper","cssMixins","rowSpaceBetweened","infoLeft","infoTitle","rowVCentered","infoContent","num","dueDateOn","infoRight","button","handleBorrow","handlePay","handleClose","undefined","handleApproveSuccess","handleSuccess","blockNumber"],"sources":["/Users/hamzahmahmood/Downloads/ETHDenver/vouch-finance/vouch-finance-frontend/src/features/vouch/components/VouchForm.tsx"],"sourcesContent":["import { Box, Button, css, Grid, Skeleton, useTheme } from '@mui/material'\nimport { useWeb3React } from '@web3-react/core'\nimport { useCallback, useState } from 'react'\n\nimport { useCLStats } from '../../../hooks/useCLPoolContract'\nimport { useMQ } from '../../../hooks/useMQ'\nimport { usePoolInfo, usePoolName } from '../../../hooks/usePool'\nimport { useRefresh } from '../../../hooks/useRefresh'\nimport { formatMoney } from '../../../utils/number'\nimport { POOL_TYPE, PoolMap } from '../../../utils/pool'\nimport { timestampToLL } from '../../../utils/time'\nimport { CreditLineSDK } from '../../sdk/CreditLine/components'\nimport { ConnectWalletButton } from '../../wallet/components'\n\nexport function VouchForm(): React.ReactElement {\n  const theme = useTheme()\n  const { isLgSize, isSmSize, isXsSize } = useMQ()\n  const buttonWidth = isLgSize ? 180 : 140\n  const poolName = usePoolName()\n  const poolInfo = usePoolInfo(poolName, POOL_TYPE.CreditLine)\n  const { account, isActive } = useWeb3React()\n  const [accountStats, refreshCLStats] = useCLStats(poolName, account)\n  const [actionType, setActionType] = useState<'borrow' | 'payment'>()\n  const [modalIsOpen, setModalIsOpen] = useState(false)\n  const [subscribe, loading] = useRefresh()\n  const {\n    creditRecord,\n    creditRecordStatic,\n    isApproved,\n    payoffAmount,\n    principalAmount,\n    creditAvailableAmount,\n    totalDueAmount,\n  } = accountStats\n\n  const dueDate = timestampToLL(creditRecord?.dueDate.toNumber()).split(',')[0]\n\n  const getPadding = () => {\n    if (isSmSize) {\n      return 32\n    }\n    return 48\n  }\n\n  const getButtonWidth = () => {\n    if (isSmSize) {\n      return '100%'\n    }\n    if (isApproved) {\n      return `${buttonWidth}px`\n    }\n    return '180px'\n  }\n\n  const styles = {\n    wrapper: css`\n      max-width: 1307px;\n      margin: 0 auto;\n      margin-bottom: 40px;\n    `,\n    title: css`\n      font-family: 'Uni-Neue-Black';\n      color: ${theme.palette.text.primary};\n      font-size: 24px;\n      margin-bottom: 16px;\n    `,\n    description: css`\n      font-family: 'Uni-Neue-Regular';\n      color: ${theme.palette.text.primary};\n      font-size: 1rem;\n    `,\n    infoWrapper: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      background: #ffffff;\n      box-shadow: 0px 4px 40px 8px rgba(0, 0, 0, 0.04);\n      border-radius: 24px;\n      padding: ${getPadding()}px;\n      padding-bottom: 72px;\n    `,\n    infoLeft: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      flex-direction: ${isXsSize ? 'column' : 'row'};\n      justify-content: ${isSmSize ? 'flex-start' : 'space-between'};\n      & > div {\n        margin-bottom: ${isXsSize ? 20 : 0}px;\n        margin-right: ${isSmSize ? 40 : 0}px;\n      }\n      & > div:last-of-type {\n        margin-right: 0px;\n        margin-bottom: 0px;\n      }\n    `,\n    infoTitle: css`\n      ${theme.cssMixins.rowVCentered}\n      font-family: 'Uni-Neue-Bold';\n      font-size: ${isLgSize ? 20 : 18}px;\n      color: #423b46;\n      margin-bottom: 8px;\n    `,\n    infoContent: (num: number) => css`\n      font-family: 'Uni-Neue-Regular';\n      font-size: ${isLgSize ? 32 : 26}px;\n      color: ${num > 0 ? '#534E59' : '#d3ccdd'};\n    `,\n    dueDateOn: css`\n      width: 16px;\n      height: 16px;\n      background: #45cb71;\n      border-radius: 50%;\n      margin-left: 8px;\n    `,\n    infoRight: css`\n      ${theme.cssMixins.rowSpaceBetweened}\n      align-items: end;\n      width: ${isSmSize ? '100%' : 'unset'};\n    `,\n    button: css`\n      height: 42px;\n      width: ${getButtonWidth()};\n    `,\n  }\n\n  const handleBorrow = () => {\n    setModalIsOpen(true)\n    setActionType('borrow')\n  }\n\n  const handlePay = () => {\n    setModalIsOpen(true)\n    setActionType('payment')\n  }\n\n  const handleClose = () => {\n    setModalIsOpen(false)\n    setActionType(undefined)\n  }\n\n  const handleApproveSuccess = useCallback(() => {\n    refreshCLStats()\n  }, [refreshCLStats])\n\n  const handleSuccess = useCallback(\n    (blockNumber: number) => {\n      subscribe(blockNumber, refreshCLStats)\n    },\n    [refreshCLStats, subscribe],\n  )\n\n  return (\n    <Box css={styles.wrapper}>\n      <Box css={styles.title}>Vouch Form</Box>\n    </Box>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}