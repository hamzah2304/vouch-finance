{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidTwitterSignature = void 0;\nvar index_1 = require(\"./index\");\nvar js_sha3_1 = require(\"js-sha3\");\nvar recoverSignature_1 = require(\"./recoverSignature\");\nvar namehash_1 = require(\"./namehash\");\nvar TwitterVerificationAddress = '0x12cfb13522F13a78b650a8bCbFCf50b7CB899d82';\nvar isValidTwitterSignature = function (_a) {\n  var tokenId = _a.tokenId,\n    owner = _a.owner,\n    twitterHandle = _a.twitterHandle,\n    validationSignature = _a.validationSignature;\n  var tokenIdInDecimals = (0, namehash_1.fromHexStringToDecimals)(tokenId);\n  var message = [tokenIdInDecimals, owner, 'social.twitter.username', twitterHandle].map(function (value) {\n    return '0x' + (0, js_sha3_1.keccak256)(value.startsWith('0x') ? (0, index_1.hexToBytes)(value) : value);\n  }).reduce(function (message, hashedValue) {\n    return message + hashedValue;\n  }, '');\n  var signerAddress = (0, recoverSignature_1.recover)(message, validationSignature);\n  return signerAddress === TwitterVerificationAddress;\n};\nexports.isValidTwitterSignature = isValidTwitterSignature;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}